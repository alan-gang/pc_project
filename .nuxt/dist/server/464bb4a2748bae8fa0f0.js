exports.ids=[6],exports.modules={100:function(e,t,r){"use strict";t.a={data:()=>({}),methods:{alert(e,t="warning",r=2e3){this.$message({message:e,type:t,duration:r})},confirm(e,t="warning",r){this.$alert(e,"温馨提示",{confirmButtonText:"确定",type:t,callback:r})},prompt(e,t){this.$confirm(e,"警告",{confirmButtonText:"确定",cancelButtonText:"取消",closeOnClickModal:!1,type:"warning"}).then(t).catch(()=>{this.$message({type:"success",message:"您是对的，三思而后行",duration:1e3})})}}}},102:function(e,t){e.exports={}},112:function(e,t,r){"use strict";r.r(t);var o=r(102),l=r.n(o);for(var n in o)"default"!==n&&function(e){r.d(t,e,(function(){return o[e]}))}(n);t.default=l.a},129:function(e,t,r){"use strict";r.r(t);var o=r(37),l=r(100),n=r(36),c=r(2),m={mixins:[o.a,l.a],layout:"user",head:{title:"用户登录"},transition:"fade",mounted(){this._fillUserInfo()},data:()=>({ruleForm:{email:"",password:"",accountName:""},saveSing:!0,loading:!1}),methods:{onSubmit(e){this.$refs[e].validate(e=>{if(!e)return this.alert("请正确填写用户名和密码"),!1;this.loading=!0,this._sendUserInfo()})},async _sendUserInfo(){let e=await this._getPublicKey(this.ruleForm.password),{code:code,data:data,message:t}=await Object(n.h)({name:this.ruleForm.email,password:e,accountName:this.ruleForm.accountName});if(0==code){let t=data.token;sessionStorage.token=t;let r={password:e};this.ruleForm.email?r.email=this.ruleForm.email:r.accountName=this.ruleForm.accountName,this.saveSing&&(localStorage.user=JSON.stringify(r)),this.$store.commit("user/saveUserInfo",data.user),this.UserInfo.username&&this.UserInfo.className||"2"==this.UserInfo.identity?this.$router.replace("/forum/forumlist/all"):this.$router.replace("/user/usersetting/userMessage")}this.loading=!1},async _fillUserInfo(){let e=localStorage.user&&JSON.parse(localStorage.user);e&&(e.accountName?this.ruleForm.accountName=e.accountName:this.ruleForm.email=e.email,this.ruleForm.password=await this._parsingKey(e.password))},selectBoxStatus(e){this.saveSing=e,!e&&localStorage.removeItem("user")}},computed:{...Object(c.mapState)("user",{UserInfo:e=>e.UserInfo})}},f=r(1);var component=Object(f.a)(m,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login-container"},[r("el-form",{ref:"ruleForm",staticClass:"w_380 pl_10 pr_10 b_s mt_30 user-form",attrs:{model:e.ruleForm,rules:e.rules}},[e.ruleForm.accountName?r("el-form-item",{attrs:{prop:"accountName"}},[r("el-input",{staticClass:"c_f_c ft_16",attrs:{"prefix-icon":"el-icon-user",placeholder:"Enter user Account"},model:{value:e.ruleForm.accountName,callback:function(t){e.$set(e.ruleForm,"accountName",t)},expression:"ruleForm.accountName"}})],1):r("el-form-item",{attrs:{prop:"email"}},[r("el-input",{staticClass:"c_f_c ft_16",attrs:{"prefix-icon":"el-icon-message",placeholder:"Enter email login"},model:{value:e.ruleForm.email,callback:function(t){e.$set(e.ruleForm,"email",t)},expression:"ruleForm.email"}})],1),e._v(" "),r("el-form-item",{staticClass:"mt_20",attrs:{prop:"password"}},[r("el-input",{staticClass:"c_f_c ft_16",attrs:{"prefix-icon":"el-icon-edit",placeholder:"Password",type:"password"},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1)],1),e._ssrNode(" "),r("el-checkbox",{staticClass:"ml_10 mt_25 f_x_s",on:{change:e.selectBoxStatus},model:{value:e.saveSing,callback:function(t){e.saveSing=t},expression:"saveSing"}},[e._v("stay signed in")]),e._ssrNode(' <div class="h_1 w_100p bgc_br mt_5 mb_20" data-v-00f26654></div> '),e._ssrNode('<div class="action flex w_360" data-v-00f26654>',"</div>",[e._ssrNode('<div class="w_145 h_35 bgc_b_b t_c lh_35 c_f ft_12 r_5 c_r" data-v-00f26654>Lost password?</div> '),r("el-button",{staticClass:"bgc_b_g  ft_12 b_n h_35",attrs:{type:"primary",loading:e.loading},on:{click:function(t){return e.onSubmit("ruleForm")}}},[e._v("Login")])],2)],2)}),[],!1,(function(e){var t=r(112);t.__inject__&&t.__inject__(e)}),"00f26654","6b57f474");t.default=component.exports}};