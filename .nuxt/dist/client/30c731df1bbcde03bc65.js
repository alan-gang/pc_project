(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{315:function(e,t,r){"use strict";var n={data:function(){var e=this;return{rules:{name:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:15,message:"长度在 6 到 15个字符",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"}],email:[{validator:function(t,r,n){var o=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;if(!r)return e.emailValidator=!1,n(new Error("邮箱不能为空"));setTimeout((function(){o.test(r)?(e.emailValidator=!0,n()):(e.emailValidator=!1,n(new Error("请输入正确的邮箱格式")))}),100)},trigger:"blur"}],checkPassword:[{required:!0,message:"请输入确认密码",trigger:"blur"},{validator:function(t,r,n){r!==e.form.password?n(new Error("两次输入密码不一致!")):n()},trigger:"blur"}]}}},methods:{alert:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;this.$message({message:e,type:t,duration:r})},confirm:function(e,t,r){var n,o=5;setInterval((function(){--o,n="<div>哈哈哈".concat(o,"</div>")}),1e3),this.$confirm(n,"温馨提示",{confirmButtonText:"确定",cancelButtonText:"",dangerouslyUseHTMLString:!0,showClose:!1,closeOnClickModal:!1,distinguishCancelAndClose:!0,showCancelButton:r,type:t}).then((function(){}))}}};t.a=n},318:function(e,t,r){},323:function(e,t,r){"use strict";var n=r(318);r.n(n).a},331:function(e,t,r){"use strict";r.r(t);r(124),r(41),r(30),r(17),r(84),r(125);var n=r(66),o=(r(54),r(6)),c=r(315),l=r(85);function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function m(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var d,_={mixins:[c.a],layout:"user",data:function(){return{isSend:!1,emailValidator:!1,countDown:5,timer:null,form:{password:"123456",identity:"1",email:"hg9558@126.com",code:"",checkPassword:"123456"}}},methods:{_onSubmit:function(e){var t=this;this.$refs[e].validate(function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(r){var n,code,data,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=16;break}return e.next=3,Object(l.f)(m({},t.form));case 3:if(n=e.sent,code=n.code,data=n.data,o=n.message,1!==code){e.next=12;break}return t.alert(o),e.abrupt("return");case 12:localStorage.token=data.token,t.$router.replace("/");case 14:e.next=18;break;case 16:return t.alert("请正确填写表单内容"),e.abrupt("return",!1);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},_getCode:(d=Object(o.a)(regeneratorRuntime.mark((function e(){var t,code,data,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.emailValidator&&this.form.identity){e.next=3;break}return this.alert("请先输入邮箱并确认身份"),e.abrupt("return");case 3:return this.isSend=!0,this.countDown=5,this.timer=setInterval((function(){if(r.countDown<1)return clearInterval(r.timer),void(r.isSend=!1);r.countDown--}),1e3),e.next=8,Object(l.c)({email:this.form.email,identity:this.form.identity});case 8:t=e.sent,code=t.code,data=t.data,0===code&&this.alert(data.msg,1==this.form.identity?"success":"warning");case 12:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})}},h=(r(323),r(4)),component=Object(h.a)(_,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login-container"},[r("el-form",{ref:"form",staticClass:"w_380 pl_10 pr_10 b_s mt_30 user-form",attrs:{model:e.form,rules:e.rules}},[r("el-form-item",{staticClass:"mt_20 p_r",attrs:{prop:"email"}},[r("el-input",{staticClass:"c_f_c ft_16",attrs:{"prefix-icon":"el-icon-message",placeholder:"Email Address"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),e._v(" "),r("el-form-item",{staticClass:"mt_20 identity"},[r("label",{staticClass:"icon iconfont icon-banjiguanli1",attrs:{for:""}}),e._v(" "),r("el-select",{attrs:{placeholder:"Please select identity"},model:{value:e.form.identity,callback:function(t){e.$set(e.form,"identity",t)},expression:"form.identity"}},[r("el-option",{attrs:{label:"student",value:"1"}}),e._v(" "),r("el-option",{attrs:{label:"teacher",value:"2"}})],1)],1),e._v(" "),r("el-form-item",{staticClass:"mt_20",attrs:{prop:"code"}},[r("el-input",{staticClass:"c_f_c ft_16",attrs:{"prefix-icon":"el-icon-paperclip",placeholder:"Code"},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}}),e._v(" "),r("el-button",{staticClass:"p_a p_r_0 p_t_1",attrs:{type:"primary",loading:e.isSend},on:{click:e._getCode}},[e._v("\n        "+e._s(e.isSend?this.countDown+" 秒后从新获取":"发送验证码")+"\n      ")])],1),e._v(" "),r("el-form-item",{staticClass:"mt_20",attrs:{prop:"password"}},[r("el-input",{staticClass:"c_f_c ft_16",attrs:{"prefix-icon":"el-icon-edit",placeholder:"Password",type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),r("el-form-item",{staticClass:"mt_20",attrs:{prop:"checkPassword"}},[r("el-input",{staticClass:"c_f_c ft_16 confirm-password",attrs:{"prefix-icon":"el-icon-edit",placeholder:"Confirm Password",type:"password"},model:{value:e.form.checkPassword,callback:function(t){e.$set(e.form,"checkPassword",t)},expression:"form.checkPassword"}})],1)],1),e._v(" "),r("div",{staticClass:"h_1 w_100p bgc_br mt_45 mb_20"}),e._v(" "),r("div",{staticClass:"action flex w_360"},[r("div",{staticClass:"w_360 h_45 bgc_b_b t_c lh_45 c_f ft_14 r_5 c_r",on:{click:function(t){return e._onSubmit("form")}}},[e._v("Sign Up")])])],1)}),[],!1,null,"453387a5",null);t.default=component.exports}}]);