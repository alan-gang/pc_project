(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{333:function(e,t,r){"use strict";r(45);var n,o,c=r(6);t.a={data:function(){return{publicKey:"-----BEGIN PUBLIC KEY-----\nMFwwDQYJKoZIhvcNAQEBBQADSwAwSAJBAIGs2dvgRPJl/zMLAUeZgLP2ouCvuXcg\n65LI3KsUDl40UwATyxaX2ZxgytcrGFk8KRwcRiexEhbRlytedqbKVsMCAwEAAQ==\n-----END PUBLIC KEY-----",privateKey:"-----BEGIN RSA PRIVATE KEY-----\nMIIBOQIBAAJBAIGs2dvgRPJl/zMLAUeZgLP2ouCvuXcg65LI3KsUDl40UwATyxaX\n2ZxgytcrGFk8KRwcRiexEhbRlytedqbKVsMCAwEAAQJAdg98Dc5il1o7fSpQ0PI1\nliM/aVczgP1M3MfY+Dz7U9H5zzFHX3zasyFTu505i4Ia75DEU3Ik5MNAJsajC7Li\nKQIhANTmbAIJK0H5VPqYMvNKIPKcFcNghQzM5O6WCBx/Rff3AiEAm+1JhWfMQIXo\nzcH7yn4QWg6EjpfUK/Es3sWgp8seHJUCIACtz3BeOR4XvnaiH595AAvmBYe++g2l\nZaGBJvt4SG/XAiA2h4IppEYa3nmu00MB6po/VEppL5GkmGAvu/9WDsOGDQIgJdXi\n+Bf8g9tQUSeiK6kGqKeZfbA49Qot3NWxA/VxGXI=\n-----END RSA PRIVATE KEY-----",jsencrypt:function(){return r.e(16).then(r.t.bind(null,342,7))}}},methods:{_getPublicKey:(o=Object(c.a)(regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.jsencrypt();case 2:return r=e.sent,n=r.JSEncrypt,(o=new n).setPublicKey(this.publicKey),e.abrupt("return",o.encrypt(t));case 7:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)}),_parsingKey:(n=Object(c.a)(regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.jsencrypt();case 2:return r=e.sent,n=r.JSEncrypt,(o=new n).setPrivateKey(this.privateKey),e.abrupt("return",o.decrypt(t));case 7:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})}}},335:function(e,t,r){},345:function(e,t,r){"use strict";var n=r(335);r.n(n).a},357:function(e,t,r){"use strict";r.r(t);r(60),r(45);var n,o=r(6),c=r(133),l=r(333),f=r(134),m={mixins:[c.a,l.a],layout:"user",head:{title:"用户注册"},data:function(){return{isSend:!1,emailValidator:!1,isLoading:!1,countDown:5,timer:null,form:{password:"123456",identity:"1",email:"hg9558@126.com",code:"",checkPassword:"123456"}}},methods:{_onSubmit:function(e){var t=this;this.$refs[e].validate(function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(r){var n,o,code,data,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=15;break}return t.isLoading=!0,e.next=4,t._getPublicKey(t.form.password);case 4:return n=e.sent,e.next=7,Object(f.g)({password:n,identity:t.form.identity,email:t.form.email,code:t.form.code});case 7:o=e.sent,code=o.code,data=o.data,c=o.message,1===code?t.alert(c):(sessionStorage.token=data.token,t.$store.commit("user/saveUserInfo",data.user),t.$router.replace("/user/usersetting")),t.isLoading=!1,e.next=17;break;case 15:return t.alert("请正确填写表单内容"),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},_getCode:(n=Object(o.a)(regeneratorRuntime.mark((function e(){var t,code,data,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.emailValidator&&this.form.identity){e.next=3;break}return this.alert("请先输入邮箱并确认身份"),e.abrupt("return");case 3:return this.isSend=!0,this.countDown=5,this.timer=setInterval((function(){if(r.countDown<1)return clearInterval(r.timer),void(r.isSend=!1);r.countDown--}),1e3),e.next=8,Object(f.c)({email:this.form.email,identity:this.form.identity});case 8:t=e.sent,code=t.code,data=t.data,0===code&&this.alert(data.msg,1==this.form.identity?"success":"warning");case 12:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})}},d=(r(345),r(2)),component=Object(d.a)(m,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login-container"},[r("el-form",{ref:"form",staticClass:"w_380 pl_10 pr_10 b_s mt_30 user-form",attrs:{model:e.form,rules:e.rules}},[r("el-form-item",{staticClass:"mt_20 p_r",attrs:{prop:"email"}},[r("el-input",{staticClass:"c_f_c ft_16",attrs:{"prefix-icon":"el-icon-message",placeholder:"Email Address"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),e._v(" "),r("el-form-item",{staticClass:"mt_20 identity"},[r("label",{staticClass:"icon iconfont icon-banjiguanli1",attrs:{for:""}}),e._v(" "),r("el-select",{attrs:{placeholder:"Please select identity"},model:{value:e.form.identity,callback:function(t){e.$set(e.form,"identity",t)},expression:"form.identity"}},[r("el-option",{attrs:{label:"student",value:"1"}}),e._v(" "),r("el-option",{attrs:{label:"teacher",value:"2"}})],1)],1),e._v(" "),r("el-form-item",{staticClass:"mt_20",attrs:{prop:"code"}},[r("el-input",{staticClass:"c_f_c ft_16",attrs:{"prefix-icon":"el-icon-paperclip",placeholder:"Code"},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}}),e._v(" "),r("el-button",{staticClass:"p_a p_r_0 p_t_1",attrs:{type:"primary",loading:e.isSend},on:{click:e._getCode}},[e._v("\n        "+e._s(e.isSend?this.countDown+" 秒后从新获取":"发送验证码")+"\n      ")])],1),e._v(" "),r("el-form-item",{staticClass:"mt_20",attrs:{prop:"password"}},[r("el-input",{staticClass:"c_f_c ft_16",attrs:{"prefix-icon":"el-icon-edit",placeholder:"Password",type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),r("el-form-item",{staticClass:"mt_20",attrs:{prop:"checkPassword"}},[r("el-input",{staticClass:"c_f_c ft_16 confirm-password",attrs:{"prefix-icon":"el-icon-edit",placeholder:"Confirm Password",type:"password"},model:{value:e.form.checkPassword,callback:function(t){e.$set(e.form,"checkPassword",t)},expression:"form.checkPassword"}})],1)],1),e._v(" "),r("div",{staticClass:"h_1 w_100p bgc_br mt_45 mb_20"}),e._v(" "),r("div",{staticClass:"action flex w_360"},[r("el-button",{staticClass:"bgc_b_b ft_14 w_100p",attrs:{type:"primary",loading:e.isLoading},on:{click:function(t){return e._onSubmit("form")}}},[e._v("Sign Up")])],1)],1)}),[],!1,null,"e5cc0116",null);t.default=component.exports}}]);